#N canvas 40 0 1244 958 12;
#X obj -553 -359 gfparam city_music_ambi_start;
#X obj -528 -303 gfparam city_music_ambi_stop;
#X obj -461 -392 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X obj -525 -393 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj -544 -393 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj -503 -393 bng 15 250 50 0 empty empty A 5 8 0 8 -44926 -33289 -1;
#X obj -485 -393 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj -564 -391 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X obj -437 -391 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -505 -249 gfparam city_music_ambi_note;
#X obj -142 -351 fparam gain;
#X obj -18 -133 gfparam npc_city_distance;
#X msg -553 -334 startplayer \$1;
#X msg -528 -279 stopplayer \$1;
#X msg -505 -224 ambienceid \$1;
#X obj -553 -132 gfparam city_music_rhythm_start;
#X obj -526 -81 gfparam city_music_rhythm_stop;
#X msg -553 -106 startdrumid \$1;
#X msg -526 -55 stopdrumid \$1;
#X obj -571 -358 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -546 -301 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -524 -249 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -572 -132 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -544 -81 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -571 -165 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj -570 -4 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj -162 -348 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -36 -130 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -393 -392 bng 15 250 50 0 empty empty empty 0 -6 0 8 -260818 -24198 -1;
#X obj -126 -292 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -106 -295 gfparam city_music_ambi_gain;
#X obj -97 -237 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -61 -182 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -77 -240 gfparam city_music_rhythm_gain;
#X obj -41 -185 gfparam city_music_melody_gain;
#X msg -18 -107 npc_dist \$1;
#X msg -41 -159 melody_gain \$1;
#X msg -77 -214 rhythm_gain \$1;
#X msg -106 -269 ambi_gain \$1;
#X msg -142 -323 master_gain \$1;
#X obj -161 -72 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#N canvas 349 75 654 673 AMBIENCE 0;
#N canvas 45 5 701 928 ambient 0;
#X text -77 -27 ***********************************************************;
#X obj 11 18 group reversing reversing1 reversing2 reversing3 reversing4 reversing5 reversing6 reversing7;
#X obj 11 58 group stroked_violin stroked_violin1 stroked_violin2 stroked_violin3 stroked_violin4 stroked_violin5 stroked_violin6 stroked_violin7;
#X obj 11 115 group ice_floe ice_floe1 ice_floe2 ice_floe3 ice_floe4 ice_floe5 ice_floe6 ice_floe7 ice_floe8 ice_floe9;
#X obj 11 156 group peace_bass peace_bass1 peace_bass2 peace_bass3 peace_bass4 peace_bass5 peace_bass6 peace_bass7 peace_bass8 peace_bass9 peace_bass10;
#X obj 11 212 group crunch crunch1 crunch2 crunch3 crunch4 crunch5 crunch6 crunch7 crunch8;
#X obj 11 252 group rising_strings rising_strings1 rising_strings2 rising_strings3 rising_strings4 rising_strings5 rising_strings6 rising_strings7 rising_strings8;
#X obj 11 307 group universe_organ universe_organ1 universe_organ2 universe_organ3 universe_organ4 universe_organ5 universe_organ6 universe_organ7 universe_organ8;
#X obj 11 364 group filter_guitar filter_guitar1 filter_guitar2 filter_guitar3 filter_guitar4;
#X obj 11 404 group barbieri barbieri1 barbieri2 barbieri3 barbieri4 barbieri5 barbieri6 barbieri7 barbieri8;
#X obj 10 443 group fm8c fm8c1 fm8c2 fm8c3 fm8c4 fm8c5 fm8c6 fm8c7 fm8c8 fm8c9;
#X obj 10 483 group bright_polly bright_polly1 bright_polly2 bright_polly3 bright_polly4 bright_polly5 bright_polly6 bright_polly7 bright_polly8 bright_polly9;
#X obj 11 540 group hope hope1 hope2 hope3 hope4 hope5;
#X obj 11 564 group voices voices1 voices2 voices3 voices4 voices5 voices6 voices7 voices8 voices9 voices10 voices11 voices12 voices13;
#X obj 11 620 group soft_moving soft_moving1 soft_moving2 soft_moving3 soft_moving4 soft_moving5 soft_moving6 soft_moving7 soft_moving8;
#X obj 11 676 group vast_city vast_city1 vast_city2 vast_city3 vast_city4 vast_city5 vast_city6 vast_city7 vast_city8 vast_city9 vast_city10;
#X obj 11 733 group bongo bongo1 bongo2 bongo3 bongo4 bongo5 bongo6 bongo7 bongo8;
#X obj 11 775 group bicycle bicycle1 bicycle2 bicycle3 bicycle4 bicycle5 bicycle6 bicycle7 bicycle8 bicycle9 bicycle10;
#X obj 11 814 group metalbar metalbar1 metalbar2 metalbar3 metalbar4 metalbar5 metalbar6 metalbar7;
#X obj 11 856 group buddha buddha1 buddha2 buddha3 buddha4 buddha5 buddha6 buddha7 buddha8;
#X obj 11 897 group tangent_spinner tangent_spinner1 tangent_spinner2 tangent_spinner3 tangent_spinner4 tangent_spinner5 tangent_spinner6 tangent_spinner7 tangent_spinner8;
#X obj 11 910 group atmosphere atmosphere1 atmosphere2 atmosphere3 atmosphere4 atmosphere5 atmosphere6 atmosphere7;
#X obj 11 920 group cloud_choir cloud_choir1 cloud_choir2 cloud_choir3 cloud_choir4 cloud_choir5;
#X obj 11 930 group compleatair compleatair1 compleatair2 compleatair3 compleatair4;
#X obj 11 940 group compleatlandscape compleatlandscape1 compleatlandscape2 compleatlandscape3 compleatlandscape4;
#X obj 11 950 group lava_groan lava_groan1 lava_groan2 lava_groan3 lava_groan4 lava_groan5 lava_groan6 lava_groan7;
#X obj 11 960 group smallsoftgran smallsoftgran1 smallsoftgran2 smallsoftgran3 smallsoftgran4 smallsoftgran5 smallsoftgran6;
#X obj 11 970 group swinging_pub_sign swinging_pub_sign1 swinging_pub_sign2 swinging_pub_sign3 swinging_pub_sign4 swinging_pub_sign5 swinging_pub_sign6 swinging_pub_sign7 swinging_pub_sign8 swinging_pub_sign9;
#X obj 11 980 group weather_lightning weather_lightning1 weather_lightning2 weather_lightning3 weather_lightning4 weather_lightning5;
#X obj 11 990 group orange01 cityhall_coolio;
#X obj 11 1000 group orange02 cityhall_drughazed;
#X obj 11 1010 group orange03 cityhall_elevator;
#X obj 11 1020 group orange04 cityhall_alien;
#X obj 11 1030 group orange05 cityhall_alientechno;
#X obj 11 1040 group orange06 cityhall_kindaangry;
#X obj 11 1050 group orange07 cityhall_eastern;
#X obj 11 1060 group orange08 cityhall_neighbor1;
#X obj 11 1070 group orange09 cityhall_tibetan;
#X obj 11 1080 group orange10 cityhall_westreligious;
#X obj 11 1090 group orange11 alien_ahhhah;
#X obj 11 1100 group orange12 alien_asian;
#X obj 11 1110 group orange13 alien_blubber;
#X obj 11 1120 group orange14 alien_brianspear;
#X obj 11 1130 group orange15 alien_factory;
#X obj 11 1140 group orange16 alien_foreboding;
#X obj 11 1150 group orange17 alien_kalimba_one;
#X obj 11 1160 group orange18 alien_kalimba_two;
#X obj 11 1170 group orange19 alien_melancholy;
#X obj 11 1180 group orange20 alien_music_proposal_eleven;
#X obj 11 1190 group orange21 alien_music_proposal_six;
#X obj 11 1200 group orange22 alien_music_proposal_ten;
#X obj 11 1210 group orange23 alien_music_proposal_twelve;
#X obj 11 1220 group orange24 alien_music_proposal_twob;
#X obj 11 1230 group orange25 alien_randombeat;
#X obj 11 1240 group orange26 alien_sailorsong;
#X obj 11 1250 group orange27 alien_shepard;
#X obj 11 1260 group orange28 alien_siezure;
#X obj 11 1270 group orange29 alien_underworld;
#X obj 11 1280 group orange30 alien_whipper;
#X obj 11 1290 group orange31 alien_bloopbleep;
#X obj 11 1300 group orange32 alien_music_proposal_three;
#X restore -354 -275 pd ambient groups;
#X text -355 -305 GROUPS:;
#X obj -128 19 coll 60 3;
#C list 0 reversing 0.4 2000;
#C list 1 stroked_violin 0.1 2000;
#C list 2 ice_floe 0.5 2500;
#C list 3 peace_bass 0.2 5000;
#C list 4 crunch 0.2 4000;
#C list 5 rising_strings 0.15 1000;
#C list 6 universe_organ 0.5 2000;
#C list 7 filter_guitar 0.5 2000;
#C list 8 barbieri 0.4 4000;
#C list 9 fm8c 0.3 4000;
#C list 10 bright_polly 0.25 4000;
#C list 11 hope 0.2 1500;
#C list 12 voices 0.3 4000;
#C list 13 soft_moving 0.2 1000;
#C list 14 vast_city 0.15 2000;
#C list 15 bongo 0.3 2000;
#C list 16 bicycle 0.3 4000;
#C list 17 metalbar 0.4 2000;
#C list 18 buddha 0.3 2000;
#C list 19 tangent_spinner 0.2 3000;
#C list 20 atmosphere 0.7 2000;
#C list 21 cloud_choir 1.3 2000;
#C list 22 compleatair 0.8 2000;
#C list 23 compleatlandscape 0.4 2000;
#C list 24 lava_groan 0.9 2000;
#C list 25 smallsoftgran 1.2 2000;
#C list 26 swinging_pub_sign 0.7 2000;
#C list 27 weather_lightning 0.4 4000;
#C list 28 orange01 2.0 1000;
#C list 29 orange02 2.0 1000;
#C list 30 orange03 2.0 1000;
#C list 31 orange04 2.0 1000;
#C list 32 orange05 2.0 1000;
#C list 33 orange06 2.0 1000;
#C list 34 orange07 2.0 1000;
#C list 35 orange08 2.0 1000;
#C list 36 orange09 2.0 1000;
#C list 37 orange10 2.0 1000;
#C list 38 orange11 1.8 1000;
#C list 39 orange12 1.8 1000;
#C list 40 orange13 1.8 1000;
#C list 41 orange14 1.8 1000;
#C list 42 orange15 1.8 1000;
#C list 43 orange16 1.8 1000;
#C list 44 orange17 1.8 1000;
#C list 45 orange18 1.8 1000;
#C list 46 orange19 1.8 1000;
#C list 47 orange20 1.8 1000;
#C list 48 orange21 1.8 1000;
#C list 49 orange22 1.8 1000;
#C list 50 orange23 1.8 1000;
#C list 51 orange24 1.8 1000;
#C list 52 orange25 1.8 1000;
#C list 53 orange26 1.8 1000;
#C list 54 orange27 1.8 1000;
#C list 55 orange28 1.8 1000;
#C list 56 orange29 1.8 1000;
#C list 57 orange30 1.8 1000;
#C list 58 orange31 1.8 1000;
#C list 59 orange32 1.8 1000;
#X obj -303 -58 r toambient;
#X obj -332 -88 inlet startplayer stopplayer ambienceid;
#X obj -128 -6 - 1;
#X msg -195 20 0;
#X obj -332 -5 t f b;
#X obj -230 -5 t f b;
#X msg -297 20 1;
#X obj -128 46 unpack s f f;
#X obj -332 106 pack f f s f f;
#X obj -332 144 route 1 2 3 4;
#X obj -169 168 print ambinfo;
#X obj -169 144 spigot;
#X obj -126 125 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1;
#X text -107 124 debugging;
#X text -354 -130 Ambient Stuff:;
#X text -358 -115 *************************************************;
#X text -354 -291 ***********************************************;
#X obj -354 -222 group stereotester stereotester;
#X obj -350 -86 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X obj -321 -57 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj -145 21 bng 15 250 50 0 empty empty empty 0 -6 0 8 -260818 -24198 -1;
#X obj 82 -87 inlet play messages;
#X obj 64 -85 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X obj -332 -31 route startplayer stopplayer ambienceid;
#X obj -332 199 shuffle_player city_music_ambience1_submix;
#X obj -307 227 shuffle_player city_music_ambience2_submix;
#X obj -283 256 shuffle_player city_music_ambience3_submix;
#X obj -258 285 shuffle_player city_music_ambience4_submix;
#X connect 2 0 10 0;
#X connect 3 0 26 0;
#X connect 4 0 26 0;
#X connect 5 0 2 0;
#X connect 6 0 11 1;
#X connect 7 0 11 0;
#X connect 7 1 9 0;
#X connect 8 0 11 0;
#X connect 8 1 6 0;
#X connect 9 0 11 1;
#X connect 10 0 11 2;
#X connect 10 1 11 3;
#X connect 10 2 11 4;
#X connect 11 0 12 0;
#X connect 11 0 14 0;
#X connect 12 0 27 0;
#X connect 12 1 28 0;
#X connect 12 2 29 0;
#X connect 12 3 30 0;
#X connect 14 0 13 0;
#X connect 15 0 14 1;
#X connect 24 0 27 1;
#X connect 24 0 28 1;
#X connect 24 0 29 1;
#X connect 24 0 30 1;
#X connect 26 0 7 0;
#X connect 26 1 8 0;
#X connect 26 2 5 0;
#X restore -553 -168 pd AMBIENCE;
#N canvas 0 0 1267 943 RHYTHM 0;
#N canvas 1287 23 564 672 drum 0;
#X obj 30 15 group astonish astonish120_1 astonish120_2 astonish120_3 astonish120_4 astonish120_5 astonish120_6 astonish120_7 astonish120_8 astonish120_9;
#X obj 30 71 group convince convince140_1 convince140_2 convince140_3 convince140_4 convince140_5 convince140_6 convince140_7 convince140_8 convince140_9 convince140_10;
#X obj 30 127 group euromech euromech90_1 euromech90_2 euromech90_3 euromech90_4 euromech90_5 euromech90_6 euromech90_7 euromech90_8 euromech90_9 euromech90_10 euromech90_11 euromech90_12 euromech90_13 euromech90_14;
#X obj 30 199 group fascinate fascinate130_1 fascinate130_2 fascinate130_3 fascinate130_4 fascinate130_5 fascinate130_6 fascinate130_7 fascinate130_8 fascinate130_9 fascinate130_10;
#X obj 30 255 group haunted haunted100_1 haunted100_2 haunted100_3 haunted100_4 haunted100_5 haunted100_6 haunted100_7 haunted100_8 haunted100_9 haunted100_10 haunted100_11 haunted100_12 haunted100_13;
#X obj 30 327 group interest interest90_1 interest90_2 interest90_3 interest90_4 interest90_5 interest90_6 interest90_7 interest90_8 interest90_9 interest90_10 interest90_11 interest90_12 interest90_13;
#X obj 30 400 group techno techno110_1 techno110_2 techno110_3 techno110_4 techno110_5 techno110_6 techno110_7 techno110_8 techno110_9 techno110_10 techno110_11 techno110_12;
#X obj 30 456 group tribal tribal120_1 tribal120_2 tribal120_3 tribal120_4 tribal120_5 tribal120_6 tribal120_7 tribal120_8 tribal120_9 tribal120_10 tribal120_11 tribal120_12 tribal120_13 tribal120_14;
#X obj 30 529 group trip_shaman trip_shaman110_1 trip_shaman110_2 trip_shaman110_3 trip_shaman110_4 trip_shaman110_5 trip_shaman110_6 trip_shaman110_7 trip_shaman110_8;
#X obj 30 586 group wonder wonder90_1 wonder90_2 wonder90_3 wonder90_4 wonder90_5 wonder90_6 wonder90_7 wonder90_8 wonder90_9 wonder90_10;
#X obj 30 686 group tubular_africans tubular_africans_mid6 tubular_africans_mid7 tubular_africans_mid8 tubular_africans_mid9 tubular_africans_mid10 tubular_africans_mid11 tubular_africans_mid12 tubular_africans_mid13 tubular_africans_high14 tubular_africans_high15 tubular_africans_high16 tubular_africans_high17 tubular_africans_high51 tubular_africans_high55 tubular_africans_high59;
#X obj 30 786 group velvet 70-velvet-3 70-velvet-5 70-velvet-6 70-velvet-7 70-velvet-8 70-velvet-9 70-velvet-11 70-velvet-16 70-velvet-19 70-velvet-22 70-velvet-24 70-velvet-26 70-velvet-29 70-velvet-30;
#X obj 30 886 group introspect 90-introspect-1 90-introspect-2 90-introspect-3 90-introspect-4 90-introspect-5 90-introspect-6 90-introspect-7 90-introspect-8 90-introspect-9 90-introspect-10 90-introspect-11 90-introspect-12;
#X obj 30 996 group heavy_city heavy_city1 heavy_city1_proc1 heavy_city2 heavy_city2_proc heavy_city3 heavy_city3_proc heavy_city4 heavy_city5 heavy_city6 heavy_city6_proc heavy_city7 heavy_city7_proc heavy_city8 heavy_city8_proc heavy_city10 heavy_city11 heavy_city11_proc heavy_city12 heavy_city14_proc;
#X obj 30 1106 group Arcadia_Bitcrusher Arcadia_Bitcrusher_120 Arcadia_Bitcrusher_120 Arcadia_Bitcrusher_120 Arcadia_Bitcrusher_120 Arcadia_Bitcrusher_120 Arcadia_Bitcrusher_120 Arcadia_Bitcrusher_120 Arcadia_Bitcrusher_120 Arcadia_Bitcrusher_120 Arcadia_Bitcrusher_120;
#X obj 30 1200 group Bwiza_percu Bwiza_percu_90 Bwiza_percu_90 Bwiza_percu_90 Bwiza_percu_90 Bwiza_percu_90 Bwiza_percu_90 Bwiza_percu_90 Bwiza_percu_90 Bwiza_percu_90 Bwiza_percu_90;
#X obj 30 1300 group HAteta_Vibraphone HAteta_Vibraphone_100 HAteta_Vibraphone_100 HAteta_Vibraphone_100 HAteta_Vibraphone_100 HAteta_Vibraphone_100 HAteta_Vibraphone_100 HAteta_Vibraphone_100 HAteta_Vibraphone_100 HAteta_Vibraphone_100 HAteta_Vibraphone_100;
#X obj 30 1400 group Kame_Beat Kame_Beat_100 Kame_Beat_100 Kame_Beat_100 Kame_Beat_100 Kame_Beat_100 Kame_Beat_100 Kame_Beat_100 Kame_Beat_100 Kame_Beat_100 Kame_Beat_100;
#X obj 30 1500 group Kame_Kalimba Kame_Kalimba_100 Kame_Kalimba_100 Kame_Kalimba_100 Kame_Kalimba_100 Kame_Kalimba_100 Kame_Kalimba_100 Kame_Kalimba_100 Kame_Kalimba_100 Kame_Kalimba_100 Kame_Kalimba_100;
#X obj 30 1600 group MegaMe MegaMe_100 MegaMe_100 MegaMe_100 MegaMe_100 MegaMe_100 MegaMe_100 MegaMe_100 MegaMe_100 MegaMe_100 MegaMe_100;
#X obj 30 1700 group Octad_Stutter Octad_Stutter_120 Octad_Stutter_120 Octad_Stutter_120 Octad_Stutter_120 Octad_Stutter_120 Octad_Stutter_120 Octad_Stutter_120 Octad_Stutter_120 Octad_Stutter_120 Octad_Stutter_120;
#X obj 30 1800 group Sela_Gambang Sela_Gambang_120 Sela_Gambang_120 Sela_Gambang_120 Sela_Gambang_120 Sela_Gambang_120 Sela_Gambang_120 Sela_Gambang_120 Sela_Gambang_120 Sela_Gambang_120 Sela_Gambang_120;
#X obj 30 1900 group Acidpro_reggae Acidpro_reggae_80_1 Acidpro_reggae_80_2 Acidpro_reggae_80_3 Acidpro_reggae_80_4 Acidpro_reggae_80_1 Acidpro_reggae_80_2 Acidpro_reggae_80_3 Acidpro_reggae_80_4;
#X obj 30 2000 group Blues_drum Blues_drum_90_1 Blues_drum_90_2 Blues_drum_90_3 Blues_drum_90_4 Blues_drum_90_1 Blues_drum_90_2 Blues_drum_90_3 Blues_drum_90_4;
#X obj 30 2100 group Eeznor_kickclap Eeznor_kickclap_100_1 Eeznor_kickclap_100_2 Eeznor_kickclap_100_3 Eeznor_kickclap_100_1 Eeznor_kickclap_100_2 Eeznor_kickclap_100_3 Eeznor_kickclap_100_1 Eeznor_kickclap_100_2 Eeznor_kickclap_100_3;
#X obj 30 2200 group Giodrum Giodrum_130_1 Giodrum_130_2 Giodrum_130_3 Giodrum_130_4 Giodrum_130_5 Giodrum_130_6;
#X obj 30 2300 group Haidarjasem_lord Haidarjasem_lord_80_1 Haidarjasem_lord_80_2 Haidarjasem_lord_80_3 Haidarjasem_lord_80_4 Haidarjasem_lord_80_1 Haidarjasem_lord_80_2 Haidarjasem_lord_80_3 Haidarjasem_lord_80_4;
#X obj 30 2400 group Live_acoustic Live_acoustic_90_1 Live_acoustic_90_2 Live_acoustic_90_3 Live_acoustic_90_4 Live_acoustic_90_1 Live_acoustic_90_2 Live_acoustic_90_3 Live_acoustic_90_4;
#X obj 30 2500 group Metal_pattern Metal_pattern_80_1 Metal_pattern_80_2 Metal_pattern_80_1 Metal_pattern_80_2 Metal_pattern_80_1 Metal_pattern_80_2 Metal_pattern_80_1 Metal_pattern_80_2;
#X obj 30 2600 group Soft_trap Soft_trap_110_1 Soft_trap_110_2 Soft_trap_110_3 Soft_trap_110_4 Soft_trap_110_1 Soft_trap_110_2 Soft_trap_110_3 Soft_trap_110_4;
#X restore 29 -169 pd drum groups;
#X obj 426 -74 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 1 1;
#X obj 43 -22 r todrums;
#X obj 33 38 - 1;
#X obj 76 134 coll 30 4;
#C list 0 astonish 120 9 0.55;
#C list 1 convince 140 10 0.7;
#C list 2 euromech 90 14 0.7;
#C list 3 fascinate 130 10 0.7;
#C list 4 haunted 100 13 0.7;
#C list 5 interest 90 13 0.7;
#C list 6 techno 110 12 0.6;
#C list 7 tribal 120 14 0.7;
#C list 8 trip_shaman 110 8 0.7;
#C list 9 wonder 90 10 0.7;
#C list 10 tubular_africans 150 10 0.8;
#C list 11 velvet 140 14 0.9;
#C list 12 introspect 90 12 0.55;
#C list 13 heavy_city 60 19 0.55;
#C list 14 Arcadia_Bitcrusher 120 10 0.8;
#C list 15 Bwiza_percu 90 10 0.8;
#C list 16 HAteta_Vibraphone 100 10 0.8;
#C list 17 Kame_Beat 100 10 0.8;
#C list 18 Kame_Kalimba 100 10 0.8;
#C list 19 MegaMe 100 10 0.8;
#C list 20 Octad_Stutter 120 10 0.8;
#C list 21 Sela_Gambang 120 10 0.8;
#C list 22 Acidpro_reggae 80 8 0.8;
#C list 23 Blues_drum 90 8 0.8;
#C list 24 Eeznor_kickclap 100 9 0.3;
#C list 25 Giodrum 130 6 0.7;
#C list 26 Haidarjasem_lord 80 8 0.6;
#C list 27 Live_acoustic 90 8 0.9;
#C list 28 Metal_pattern 80 8 0.6;
#C list 29 Soft_trap 140 8 0.8;
#X obj 76 159 unpack s f f f;
#X msg 488 10 range 1 32;
#X obj 488 -20 loadbang;
#X obj 391 68 clockreceiver6 citydrums;
#X obj 426 -51 clocks6 citydrums;
#X floatatom 134 32 5 0 0 0 - - -;
#X obj 43 3 route drumid startplayer stopplayer;
#X obj 226 33 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X floatatom 579 93 5 0 0 0 - - -;
#X obj 579 272 sel 1;
#X msg 579 458 startselect \$1;
#X msg 443 208 use \$1;
#X msg 386 154 set \$1;
#X msg 386 179 fascinate;
#X msg 1032 165 gain \$1;
#X floatatom 1032 145 5 0 0 0 - - -;
#X msg 836 200 stop;
#X obj 579 243 gate;
#X msg 647 215 0;
#X obj 836 172 t b b;
#X msg 606 215 1;
#X msg 578 39 restart;
#X obj 33 -58 route startdrumid stopdrumid;
#X obj 33 -87 inlet start and stop drumid;
#X obj 391 -152 loadbang;
#X obj 391 -127 t b b;
#X msg 426 -101 1;
#X msg 391 -102 2;
#X text 23 -194 *************************************************;
#X obj 712 457 loadbang;
#X obj 10 -168 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X text 23 -207 Groups:;
#X obj 15 -84 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X obj 539 -107 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 816 146 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 58 187 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 129 293 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 163 327 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 93 260 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 589 179 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 243 91 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 669 365 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 425 129 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 608 114 sel 1;
#X obj 261 88 s \$0-drumstop;
#X obj 836 146 r \$0-drumstop;
#X obj 76 186 s \$0-drname;
#X obj 443 125 r \$0-drname;
#X obj 147 290 s \$0-drsize;
#X obj 686 364 r \$0-drsize;
#X obj 183 325 s \$0-drgain;
#X obj 608 140 enobang;
#X msg 712 482 fadeout 0.3 \, is3d 1 \, send city_music_rhythm_submix;
#X obj 1057 67 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X obj 1075 93 route gain;
#X obj 1075 64 inlet play messages;
#X obj 579 302 counter 4;
#X obj 579 332 sel 1;
#X obj 579 361 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X obj 614 362 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X obj 579 433 f;
#X obj 24 -20 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 579 406 randnorepeat 9;
#X text 640 529 allow previous sample to play to completion;
#X obj 443 154 t s b b b b;
#X obj 1032 122 mult 1;
#X obj 1014 37 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 1032 35 r \$0-drgain;
#X obj 244 612 outlet tempo (float);
#X obj 41 612 outlet downbeat (bang);
#X obj 608 176 s \$0-downbeat;
#X obj 41 579 r \$0-downbeat;
#X obj 23 616 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X obj 227 614 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X obj 23 581 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 226 583 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 243 160 loadbang;
#X msg 226 188 117;
#X text 261 189 default tempo;
#X obj 111 256 s \$0-tempo;
#X obj 244 581 r \$0-tempo;
#X obj 557 -109 r \$0-tempo;
#X obj 579 528 dplay 1;
#X obj 33 77 sel -1;
#X obj 76 102 t f f;
#X obj 729 28 r \$0-drrestart;
#X obj 712 30 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 33 358 s \$0-drrestart;
#X obj 15 358 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 226 55 t b b;
#X text 31 379 this is so we don't regen if we play the same drums again;
#X obj 729 56 t b b;
#X obj 111 221 f;
#X obj 33 218 t b b;
#X connect 1 0 9 0;
#X connect 2 0 11 0;
#X connect 3 0 88 0;
#X connect 4 0 5 0;
#X connect 5 0 51 0;
#X connect 5 1 97 0;
#X connect 5 2 53 0;
#X connect 5 3 55 0;
#X connect 6 0 8 1;
#X connect 7 0 6 0;
#X connect 8 1 13 0;
#X connect 11 0 3 0;
#X connect 11 1 10 0;
#X connect 11 2 12 0;
#X connect 12 0 94 0;
#X connect 13 0 22 0;
#X connect 13 0 48 0;
#X connect 14 0 61 0;
#X connect 15 0 87 0;
#X connect 16 0 87 0;
#X connect 17 0 18 0;
#X connect 19 0 87 0;
#X connect 20 0 19 0;
#X connect 21 0 87 0;
#X connect 22 0 14 0;
#X connect 23 0 22 1;
#X connect 24 0 21 0;
#X connect 24 1 23 0;
#X connect 25 0 22 1;
#X connect 26 0 8 1;
#X connect 27 0 3 0;
#X connect 27 1 12 0;
#X connect 28 0 27 0;
#X connect 29 0 30 0;
#X connect 30 0 32 0;
#X connect 30 1 31 0;
#X connect 31 0 1 0;
#X connect 32 0 8 0;
#X connect 34 0 57 0;
#X connect 48 0 56 0;
#X connect 50 0 24 0;
#X connect 52 0 17 0;
#X connect 52 0 69 0;
#X connect 54 0 67 1;
#X connect 56 0 75 0;
#X connect 57 0 87 0;
#X connect 59 0 70 1;
#X connect 59 1 87 0;
#X connect 60 0 59 0;
#X connect 61 0 62 0;
#X connect 62 0 63 0;
#X connect 62 1 64 0;
#X connect 63 0 67 0;
#X connect 64 0 65 0;
#X connect 65 0 15 0;
#X connect 67 0 65 0;
#X connect 69 0 16 0;
#X connect 69 1 26 0;
#X connect 69 2 61 2;
#X connect 69 3 25 0;
#X connect 69 4 56 1;
#X connect 70 0 20 0;
#X connect 72 0 70 0;
#X connect 76 0 74 0;
#X connect 81 0 82 0;
#X connect 82 0 84 0;
#X connect 85 0 73 0;
#X connect 86 0 9 1;
#X connect 88 0 98 0;
#X connect 88 1 89 0;
#X connect 89 0 4 0;
#X connect 89 1 88 1;
#X connect 90 0 96 0;
#X connect 94 0 82 0;
#X connect 94 1 49 0;
#X connect 96 0 26 0;
#X connect 96 1 25 0;
#X connect 97 0 84 0;
#X connect 98 0 92 0;
#X connect 98 1 97 0;
#X restore -553 -6 pd RHYTHM;
#N canvas 345 79 939 623 MIX 0;
#X obj 62 358 function 200 100 3549 0 4080 0 190 0 1 0 0 0.631579 0 0.910526 0.5 1 1;
#X obj 62 331 clip 0 190;
#X obj 62 493 line;
#X msg 62 465 \$1 4000;
#X obj 19 71 loadbang;
#X obj 19 119 line;
#X text 19 51 Fade In;
#X msg 19 94 0 \, 1 10000;
#X obj 19 226 mult 1;
#X obj 19 522 mult 1;
#X obj 19 274 mult 1;
#X obj 361 283 mult 1;
#X obj 664 280 mult 1;
#X text 20 13 Determines mix for city music planner;
#X obj 62 138 inlet master_gain ambi_gain npc_dist rhythm_gain melody_gain;
#X obj 62 170 route master_gain ambi_gain npc_dist rhythm_gain melody_gain;
#X obj 488 193 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 507 192 r ui_melodygain;
#X obj 342 194 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 360 192 r ui_drumgain;
#X obj 114 193 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 132 192 r ui_ambigain;
#X text 189 466 npc city ducking;
#X msg 19 552 gain \$1;
#X obj 19 585 outlet ambience gain;
#X msg 361 316 gain \$1;
#X obj 361 350 outlet rhythm gain;
#X msg 664 313 gain \$1;
#X obj 664 347 outlet melody gain;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 9 1;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 5 0 8 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 8 0 11 0;
#X connect 8 0 12 0;
#X connect 9 0 23 0;
#X connect 10 0 9 0;
#X connect 11 0 25 0;
#X connect 12 0 27 0;
#X connect 14 0 15 0;
#X connect 15 0 8 1;
#X connect 15 1 10 1;
#X connect 15 2 1 0;
#X connect 15 3 11 1;
#X connect 15 4 12 1;
#X connect 17 0 12 1;
#X connect 19 0 11 1;
#X connect 21 0 10 1;
#X connect 23 0 24 0;
#X connect 25 0 26 0;
#X connect 27 0 28 0;
#X restore -142 -73 pd MIX;
#X obj 17 265 table cmp_pitches 64;
#A setproperties 0 0 128 1 0 0 200 100;
#X obj 17 289 table cmp_durations 64;
#A setproperties 0 0 4 1 0 0 200 100;
#N canvas 474 268 471 206 MELODY_RECORD 0;
#X obj 21 20 inlet noteid <id (float)> \, notepitch <val (midi)> \, noteduration <val (rhythmunit)>;
#X obj 21 141 tabwrite cmp_pitches;
#X obj 186 141 tabwrite cmp_durations;
#X obj 21 73 route notepitch noteduration noteid;
#X obj 2 20 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X connect 3 2 2 1;
#X connect 3 2 1 1;
#X restore 20 228 pd MELODY_RECORD;
#X obj -443 187 gfparam city_music_melody_play;
#X obj -461 187 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -413 291 gfparam city_music_melody_inst_start;
#X obj -387 348 gfparam city_music_melody_inst_stop;
#X obj -431 291 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -406 349 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X msg -413 318 inststart \$1;
#X msg -387 375 inststop \$1;
#X obj -381 405 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -362 404 gfparam city_music_melody_num_notes;
#X msg -362 431 numnotes \$1;
#X obj -1 267 bng 15 250 50 0 empty empty empty 0 -6 0 8 -260818 -24198 -1;
#X obj -2 290 bng 15 250 50 0 empty empty empty 0 -6 0 8 -260818 -24198 -1;
#X msg -480 96 tempo \$1;
#X obj -481 132 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj 1 65 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X msg 20 87 noteid \$1;
#X obj 57 171 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj 20 60 gfparam city_music_melody_note_id;
#X obj 76 168 gfparam city_music_melody_note_duration;
#X obj 26 118 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj 45 115 gfparam city_music_melody_note_pitch;
#X msg 45 140 notepitch \$1;
#X msg 76 193 noteduration \$1;
#X msg -552 96 downbeat;
#X msg -462 156 loop \$1;
#X obj -417 -390 bng 15 250 50 0 empty empty G 5 8 0 9 -225271 -1 -33289;
#X obj -399 101 bng 15 250 50 0 empty empty G 5 8 0 9 -225271 -1 -33289;
#X obj -570 523 bng 15 250 50 0 empty empty G 5 8 0 9 -225271 -1 -33289;
#X obj -381 100 sendgame city_music_rhythm_tempo;
#X obj -552 521 sendgame city_music_melody_active_note;
#X obj 2 229 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj -569 491 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X text 200 266 midi value;
#X text 200 289 beat value;
#X msg -443 213 start \$1;
#X obj -447 238 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj -429 238 gfparam city_music_melody_play_note;
#X msg -429 264 startnote \$1;
#N canvas 72 243 788 627 MELODY_PLAY 0;
#N canvas 452 50 731 369 playnote 0;
#X obj 28 24 inlet note <pitch (midi)> <duration (ms)> <instrument (sym)>;
#X obj 28 57 route note;
#X obj 28 89 unpack f f s;
#X obj 28 118 t f b;
#X obj 208 58 inlet play params;
#X obj 228 138 loadbang;
#X floatatom 28 230 5 0 0 0 - - -;
#X floatatom 72 230 5 0 0 0 - - -;
#X floatatom 117 230 5 0 0 0 - - -;
#X symbolatom 162 230 10 0 0 0 - - -;
#X obj 64 178 + 70;
#X obj 63 153 random 40;
#X obj 28 254 noteObject metalcloud 100;
#X msg 228 165 is3d 1 \, send city_music_melody_submix;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 8 0;
#X connect 2 2 9 0;
#X connect 3 0 6 0;
#X connect 3 1 11 0;
#X connect 4 0 12 4;
#X connect 5 0 13 0;
#X connect 6 0 12 0;
#X connect 7 0 12 1;
#X connect 8 0 12 2;
#X connect 9 0 12 3;
#X connect 10 0 7 0;
#X connect 11 0 10 0;
#X connect 13 0 12 4;
#X restore 25 327 pd playnote;
#N canvas 0 0 474 324 getpitch 0;
#X obj 23 23 inlet noteid (float);
#X obj 217 24 inlet pitchoffset (float);
#X obj 23 176 +;
#X obj 23 56 tabread cmp_pitches;
#X obj 23 257 outlet pitch (midi);
#X connect 0 0 3 0;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X restore 25 230 pd getpitch;
#X msg 25 288 note \$1 \$2 \$3;
#N canvas 9 101 1268 927 getinstrument 0;
#X obj 235 209 outlet instrument name (sym);
#X obj 19 108 coll 45 3;
#C list 1 cpbassguitar 1.5 -12;
#C list 2 cpbell 1.3 0;
#C list 3 cpguitar 1.2 -12;
#C list 4 cporgan 1 0;
#C list 5 cppluckstring 1.9 -24;
#C list 6 cppuresynth 1.5 -12;
#C list 7 cpsynthsmooth 1 -12;
#C list 8 cpsynthstring 1 0;
#C list 9 cptangent 1.3 -12;
#C list 10 cpwobblyguitar 1.3 -12;
#C list 11 cpcatgut 0.8 -12;
#C list 12 cpcurie 2.1 -24;
#C list 13 cpdigimarimba 1.1 -24;
#C list 14 cpfermi 1 -24;
#C list 15 cpfhorn-long 0.6 -12;
#C list 16 cpfield_double_piano 0.7 -12;
#C list 17 cpfield_single_piano 0.7 0;
#C list 18 cphighblip 1.2 0;
#C list 19 cphymnbell 0.8 0;
#C list 20 cplowblip 1 -24;
#C list 21 cpmarimba2 1.2 -12;
#C list 22 cpohm 1.9 -12;
#C list 23 cppiano3 1.1 -12;
#C list 24 cpplanck 1.9 -7;
#C list 25 cpsine-short 0.5 0;
#C list 26 cpslimebass 0.8 -24;
#C list 27 cpsubbass-long 0.7 -24;
#C list 28 cpsubbass-short 0.8 -24;
#C list 29 cpupright_bass2 1.9 -24;
#C list 30 cpvinylbass 1.1 -12;
#C list 31 cpGuitar_Jazz_Echoed 1.3 0;
#C list 32 cp8Bit_blip 1 0;
#C list 33 cpHawaii_PedalSteel 1.8 0;
#C list 34 cpGamelan_Jam_Gambang 1.5 0;
#C list 35 cpJapan_Big_Rako_ball 1.1 0;
#C list 36 cpJapan_Koto 1.8 0;
#C list 37 cpKalimba_Bass 1.1 0;
#C list 38 cpSyntheticLowBells 1.5 0;
#C list 39 cpSynth_Jam 1.3 0;
#C list 40 cpVibraPhone 1.1 0;
#C list 41 cpAccordion 1.1 0;
#C list 42 cpPunchy_cello 1.2 0;
#C list 43 cpSitar 1.2 0;
#C list 44 cpSlap_bass 1.5 0;
#C list 45 cpUkulele 1.5 0;
#X obj 196 108 coll 10 5;
#C list 1 enoLOOPEDpad 0.5 2 2 0;
#C list 2 metalcloud 0.7 2 2 0;
#C list 3 blackhole 1.5 2 2 -12;
#C list 4 piano2 0.8 8 1 0;
#C list 5 aah_voice 2.5 2 5 -24;
#C list 6 duck_bell 0.2 2 1 0;
#C list 7 fluffy_keys 0.4 4 2 -12;
#C list 8 jet_stream 0.2 2 5 -12;
#C list 9 noble_horn 1 2 1 -12;
#C list 10 noisy_flute 0.4 2 4 -12;
#X text 192 87 old instruments:;
#X obj 19 145 unpack s f f;
#X obj 19 209 outlet pitchoffset (float);
#X obj 468 210 outlet gain (float);
#X obj 19 20 inlet instid (float);
#X floatatom 19 67 5 0 0 0 - - -;
#X connect 1 0 4 0;
#X connect 4 0 0 0;
#X connect 4 1 6 0;
#X connect 4 2 5 0;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X restore 162 201 pd getinstrument;
#X msg 285 280 gain \$1;
#X obj 488 205 + 1;
#X msg 517 205 0;
#X obj 488 369 outlet active note (float);
#X obj 3 -68 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X obj 6 155 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj 6 233 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj 145 203 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj 8 328 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj 471 369 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X obj 25 264 pack f f s;
#X msg 137 288 stop;
#N canvas 355 74 836 642 getduration 0;
#X obj 134 361 gate;
#X obj 510 253 t f f;
#X floatatom 134 117 5 0 0 0 - - -;
#X obj 510 117 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1;
#X text 525 116 onoff;
#X floatatom 7 117 5 0 0 0 - - -;
#X text 49 116 tempo;
#N canvas 70 45 922 561 notestep 0;
#X obj 141 257 tabread cmp_durations;
#X obj 141 299 *;
#X obj 106 190 ccounter;
#X obj 141 324 t f f;
#X obj 106 230 t f f;
#X obj 388 344 delay;
#X obj 388 372 gate 2 1;
#X obj 388 429 s \$0-notestep;
#X obj 106 468 outlet noteid (float);
#X obj 299 468 outlet noteduration (float);
#X obj 581 468 outlet done (bang);
#X msg 447 293 2;
#X msg 456 324 1;
#X msg 85 113 reset \$1;
#X floatatom 165 115 5 0 0 0 - - -;
#X floatatom 219 282 5 0 0 0 - - -;
#X floatatom 420 94 5 0 0 0 - - -;
#X msg 388 165 stop;
#X obj 106 147 r \$0-notestep;
#X obj 388 193 t a b;
#X obj 87 148 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 371 431 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 65 29 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X obj 87 470 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X obj 281 470 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X obj 564 470 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X floatatom 61 216 5 0 0 0 - - -;
#X floatatom 286 93 5 0 0 0 - - -;
#X obj 286 113 t f b b;
#X obj 546 392 t b b;
#X obj 353 133 t b b;
#X msg 286 153 reset;
#X text 478 293 send done when note is done;
#X text 487 324 increment when note is done;
#X text 427 165 stop the delay;
#X obj 636 436 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X obj 85 65 route reset numnotes msperbeat startnote stop start;
#X obj 85 28 inlet start startnote stop reset numnotes msperbeat;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 26 0;
#X connect 2 1 11 0;
#X connect 3 0 9 0;
#X connect 3 1 5 0;
#X connect 4 0 8 0;
#X connect 4 1 0 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 29 0;
#X connect 11 0 6 1;
#X connect 12 0 6 1;
#X connect 13 0 2 0;
#X connect 14 0 2 2;
#X connect 15 0 1 1;
#X connect 16 0 5 0;
#X connect 17 0 19 0;
#X connect 18 0 2 0;
#X connect 19 0 5 0;
#X connect 19 1 29 0;
#X connect 27 0 28 0;
#X connect 28 0 4 0;
#X connect 28 1 11 0;
#X connect 28 2 30 0;
#X connect 29 0 12 0;
#X connect 29 1 10 0;
#X connect 29 1 35 0;
#X connect 30 0 31 0;
#X connect 30 1 17 0;
#X connect 31 0 2 0;
#X connect 36 0 13 0;
#X connect 36 1 14 0;
#X connect 36 2 15 0;
#X connect 36 3 27 0;
#X connect 36 4 30 0;
#X connect 36 5 16 0;
#X connect 37 0 36 0;
#X restore 134 425 pd notestep;
#X msg 353 278 start 0;
#N canvas 908 660 376 322 startondownbeat 0;
#X obj 11 83 gate;
#X msg 70 131 0;
#X msg 104 131 1;
#X obj 46 239 outlet start (bang);
#X obj 11 170 gate 1 1;
#X obj 11 205 t b b;
#X obj 11 38 route downbeat loop start startnote done;
#X obj 11 7 inlet downbeat loop start startnote done;
#X obj 262 97 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X connect 0 0 4 0;
#X connect 1 0 4 1;
#X connect 2 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 5 1 3 0;
#X connect 6 0 0 0;
#X connect 6 1 0 1;
#X connect 6 2 1 0;
#X connect 6 3 1 0;
#X connect 6 4 2 0;
#X connect 6 4 8 0;
#X connect 7 0 6 0;
#X restore 353 253 pd startondownbeat;
#X obj 134 525 outlet noteid (float);
#X obj 325 525 outlet noteduration (ms);
#X obj 538 445 t b b;
#X obj 538 525 outlet done (bang);
#X obj 545 282 sel 0;
#X msg 545 308 stop;
#X obj 300 -13 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X obj 335 254 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj 116 253 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj 115 425 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj 115 525 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X obj 308 525 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X obj 521 525 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -24198 -1;
#X obj 573 473 s \$0-gddone;
#X obj 412 200 r \$0-gddone;
#X obj 555 473 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 393 202 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X text 173 362 stop input;
#X msg 7 216 msperbeat \$1;
#X obj 134 143 t b f;
#X obj 7 192 /;
#X obj 7 144 t b f;
#X msg 7 168 60000;
#N canvas 504 184 693 447 startonnextbeatincr 0;
#X obj 7 118 /;
#X obj 7 144 i;
#X obj 7 169 + 1;
#X obj 7 194 *;
#X obj 23 224 -;
#X obj 7 90 t f f;
#X obj 104 90 mult 0.5;
#X text 176 91 default to half beats;
#X obj 7 40 route lastdownbeat msperbeat beatincr;
#X obj 7 8 inlet lastdownbeat msperbeat beatincr;
#X obj 23 263 outlet time until next beatincr (ms);
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 5 0 0 0;
#X connect 5 1 4 1;
#X connect 6 0 0 1;
#X connect 6 0 3 1;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 8 2 6 1;
#X connect 9 0 8 0;
#X restore 134 252 pd startonnextbeatincr;
#X msg 267 217 reset \$1;
#X msg 412 225 done;
#X obj 134 193 timer;
#X msg 134 217 lastdownbeat \$1;
#X msg 134 276 start \$1;
#X obj 268 121 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X text 286 116 downbeat;
#X obj 318 14 t a a;
#X text 177 117 start;
#X obj 611 117 t a;
#X obj 7 68 route tempo start downbeat onoff;
#X obj 611 308 t a;
#X text 644 118 anything else;
#X obj 318 -14 inlet tempo start notestart downbeat onoff numnotes loop;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 1 1 14 0;
#X connect 2 0 29 0;
#X connect 3 0 1 0;
#X connect 5 0 31 0;
#X connect 7 0 10 0;
#X connect 7 1 11 0;
#X connect 7 2 12 0;
#X connect 8 0 0 0;
#X connect 9 0 8 0;
#X connect 12 0 13 0;
#X connect 12 1 23 0;
#X connect 14 0 15 0;
#X connect 15 0 7 0;
#X connect 24 0 35 0;
#X connect 28 0 33 0;
#X connect 28 0 7 0;
#X connect 29 0 36 0;
#X connect 29 1 34 0;
#X connect 30 0 28 0;
#X connect 31 0 32 0;
#X connect 31 1 30 1;
#X connect 32 0 30 0;
#X connect 33 0 38 0;
#X connect 34 0 0 0;
#X connect 35 0 9 0;
#X connect 36 0 37 0;
#X connect 37 0 33 0;
#X connect 38 0 0 0;
#X connect 39 0 36 1;
#X connect 41 0 44 0;
#X connect 41 1 9 0;
#X connect 43 0 45 0;
#X connect 44 0 5 0;
#X connect 44 1 2 0;
#X connect 44 2 39 0;
#X connect 44 3 3 0;
#X connect 44 4 43 0;
#X connect 45 0 7 0;
#X connect 47 0 41 0;
#X restore 25 153 pd getduration;
#X obj 73 -26 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj 90 -27 r ui_tomelody;
#N canvas 802 276 482 332 canplay 0;
#X obj 33 28 inlet inststop inststart numnotes;
#X obj 33 58 route inststop inststart numnotes;
#X msg 87 104 0;
#X msg 119 104 1;
#X obj 205 106 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1;
#X obj 146 154 and;
#X obj 146 195 outlet canplay (0-1);
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 4 0;
#X connect 2 0 5 0;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X restore 50 59 pd canplay;
#X obj 25 9 t a a a;
#X msg 50 86 onoff \$1;
#X obj 162 68 route inststart;
#X obj 32 62 bng 15 250 50 0 empty empty PD 0 8 0 8 -44926 -33289 -1;
#X obj 25 -70 inlet downbeat loop start startnote numnotes tempo inststart inststop;
#X obj 261 -15 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X obj 484 -66 inlet play messages;
#X obj 464 -66 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -24198 -1;
#X obj 328 202 route gain;
#X obj 285 251 mult 1;
#X msg 540 50 64;
#X obj 543 17 metro 500;
#X obj 542 -4 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1;
#X msg 584 50 150;
#X obj 621 16 +;
#X text 619 41 test note;
#X connect 1 0 14 0;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 3 0 34 1;
#X connect 3 1 14 2;
#X connect 3 2 29 0;
#X connect 4 0 0 1;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 14 0 2 0;
#X connect 15 0 0 1;
#X connect 16 0 1 0;
#X connect 16 0 5 0;
#X connect 16 1 14 1;
#X connect 16 2 6 0;
#X connect 16 2 15 0;
#X connect 18 0 20 0;
#X connect 19 0 21 0;
#X connect 20 0 16 0;
#X connect 20 1 19 0;
#X connect 20 2 22 0;
#X connect 21 0 16 0;
#X connect 22 0 3 0;
#X connect 24 0 20 0;
#X connect 25 0 20 0;
#X connect 26 0 28 0;
#X connect 28 0 29 1;
#X connect 28 1 0 1;
#X connect 29 0 4 0;
#X connect 30 0 34 0;
#X connect 31 0 33 0;
#X connect 31 0 30 0;
#X connect 32 0 31 0;
#X connect 33 0 14 1;
#X connect 34 0 14 0;
#X restore -552 489 pd MELODY_PLAY;
#X obj -552 460 t a;
#X obj 10 375 sel 1;
#X obj 10 349 gfparam civ_cin_start;
#X obj -399 72 bng 15 250 50 0 empty empty G 5 8 0 9 -225271 -1 -33289;
#X obj -381 71 sendgame city_music_rhythm_downbeat;
#X obj -480 71 t f f;
#X obj -462 131 gfparam city_music_melody_loop;
#X obj -142 -34 s \$0-ambience_gain;
#X obj 24 -34 s \$0-rhythm_gain;
#X obj 174 -34 s \$0-melody_gain;
#X obj -159 -32 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 7 -32 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj 157 -32 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj -487 -190 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj -503 -27 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj -462 465 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj -470 -193 r \$0-ambience_gain;
#X obj -486 -30 r \$0-rhythm_gain;
#X obj -445 462 r \$0-melody_gain;
#X floatatom -34 -355 5 0 0 0 - - -;
#N canvas 63 18 1175 944 occasionalplay 0;
#X obj 27 18 gfparam city_music_melody_num_notes;
#X obj -17 -80 gfparam mixmode_cityplanner;
#X obj -17 86 f;
#X msg -17 572 numnotes \$1;
#X obj -17 -45 sel 1;
#X obj -17 -14 t b b;
#X obj 410 27 thru;
#X obj 473 -35 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X obj 473 -12 t b b;
#X msg 498 544 start 0;
#X text 560 542 just play the whole damn thing;
#X msg 100 574 start \$1;
#X msg 179 573 numnotes \$1;
#X obj 149 657 outlet;
#X obj 473 -62 loadbang;
#X obj 473 244 spigot;
#X obj 515 135 gfparam mixmode_cityplanner;
#X obj 473 269 random 100;
#X obj 473 325 sel 0 1;
#X obj 473 206 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X obj 498 376 t b b;
#X obj 143 453 random;
#X obj 100 396 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1;
#X obj 100 512 random;
#X obj 186 427 - 2;
#X obj 179 488 + 3;
#X obj 143 487 + 2;
#X obj 179 545 clip;
#X obj 100 418 t b b;
#X obj 473 71 delay 10000;
#X obj 555 10 random 35000;
#X obj 516 218 == 0;
#X obj 516 192 or;
#X obj 736 135 gfparam mixmode_assetbrowser;
#X obj 556 34 + 10000;
#X obj 473 298 < 100;
#X obj 498 515 onebang;
#X obj 617 415 inlet downbeat;
#X connect 0 0 2 1;
#X connect 0 0 24 0;
#X connect 0 0 27 2;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 13 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 6 0 8 0;
#X connect 7 0 8 0;
#X connect 8 0 29 0;
#X connect 8 1 30 0;
#X connect 9 0 13 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 14 0 7 0;
#X connect 15 0 17 0;
#X connect 16 0 32 0;
#X connect 17 0 35 0;
#X connect 18 0 22 0;
#X connect 18 1 20 0;
#X connect 19 0 15 0;
#X connect 20 0 36 1;
#X connect 20 1 2 0;
#X connect 21 0 25 0;
#X connect 21 0 26 0;
#X connect 22 0 28 0;
#X connect 23 0 11 0;
#X connect 24 0 21 1;
#X connect 25 0 27 0;
#X connect 26 0 23 1;
#X connect 27 0 12 0;
#X connect 28 0 23 0;
#X connect 28 1 21 0;
#X connect 29 0 6 0;
#X connect 29 0 19 0;
#X connect 30 0 34 0;
#X connect 31 0 15 1;
#X connect 32 0 31 0;
#X connect 33 0 32 1;
#X connect 34 0 29 1;
#X connect 35 0 18 0;
#X connect 36 0 9 0;
#X connect 37 0 36 0;
#X restore -697 100 pd occasionalplay;
#X obj 335 -213 gfparam city_music_position_x;
#X obj 317 -211 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X msg 335 -186 x \$1;
#X obj 344 -160 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X obj 368 -104 bng 15 250 50 0 empty empty F 5 8 0 9 -262131 -1 -33289;
#X msg 362 -137 y \$1;
#X msg 386 -81 z \$1;
#X obj 362 -162 gfparam city_music_position_y;
#X obj 386 -106 gfparam city_music_position_z;
#X obj 335 -35 s \$0-position;
#X obj 318 -33 bng 15 250 50 0 empty empty S 5 8 0 9 -42246 -1 -241291;
#X obj -350 -27 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj -333 -29 r \$0-position;
#X obj -311 465 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj -294 462 r \$0-position;
#X obj -321 -190 bng 15 250 50 0 empty empty R 5 8 0 9 -62784 -241291 -241291;
#X obj -304 -193 r \$0-position;
#X obj -552 17 t b b b;
#X msg 10 401 start 0;
#X connect 0 0 12 0;
#X connect 1 0 13 0;
#X connect 9 0 14 0;
#X connect 10 0 39 0;
#X connect 11 0 35 0;
#X connect 12 0 41 0;
#X connect 13 0 41 0;
#X connect 14 0 41 0;
#X connect 15 0 17 0;
#X connect 16 0 18 0;
#X connect 17 0 42 0;
#X connect 18 0 42 0;
#X connect 30 0 38 0;
#X connect 33 0 37 0;
#X connect 34 0 36 0;
#X connect 35 0 43 0;
#X connect 36 0 43 0;
#X connect 37 0 43 0;
#X connect 38 0 43 0;
#X connect 39 0 43 0;
#X connect 42 0 125 0;
#X connect 42 1 92 0;
#X connect 43 0 94 0;
#X connect 43 1 95 0;
#X connect 43 2 96 0;
#X connect 47 0 82 0;
#X connect 49 0 53 0;
#X connect 50 0 54 0;
#X connect 53 0 87 0;
#X connect 54 0 87 0;
#X connect 56 0 57 0;
#X connect 57 0 87 0;
#X connect 60 0 87 0;
#X connect 63 0 46 0;
#X connect 65 0 63 0;
#X connect 66 0 70 0;
#X connect 68 0 69 0;
#X connect 69 0 46 0;
#X connect 70 0 46 0;
#X connect 71 0 87 0;
#X connect 72 0 87 0;
#X connect 82 0 87 0;
#X connect 84 0 85 0;
#X connect 85 0 87 0;
#X connect 86 0 77 0;
#X connect 87 0 86 0;
#X connect 88 0 126 0;
#X connect 89 0 88 0;
#X connect 92 0 60 0;
#X connect 92 1 76 0;
#X connect 93 0 72 0;
#X connect 103 0 41 1;
#X connect 104 0 42 1;
#X connect 105 0 86 1;
#X connect 106 0 39 0;
#X connect 107 0 87 0;
#X connect 108 0 110 0;
#X connect 110 0 117 0;
#X connect 113 0 117 0;
#X connect 114 0 117 0;
#X connect 115 0 113 0;
#X connect 116 0 114 0;
#X connect 120 0 42 1;
#X connect 122 0 86 1;
#X connect 124 0 41 1;
#X connect 125 0 71 0;
#X connect 125 1 91 0;
#X connect 125 2 107 0;
#X connect 126 0 87 0;
